<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Registration - Moffat Bay Lodge</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Open+Sans&display=swap" rel="stylesheet" />
</head>
<body>

  <!-- HEADER + NAVIGATION BAR -->
  {% include "partials/header_and_navbar.html" %}

  <main class="page-content">
    <section class="basic-section">
      <h1>Create Your Account</h1>
      <div class="register-form">
      <!-- Flash Messages -->
      {% include "partials/error_flash_messages.html" %}

        <form action="{{ url_for('registration') }}" method ="POST">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
            
            <div class ="name-grouping">
              <input name="first" type="text" class="name-input" placeholder="First Name" required value="{{ request.form.get('first', '') }}"/>
              <input name="last" type="text" class="name-input" placeholder="Last Name" required value="{{ request.form.get('last', '') }}"/>
            </div>

            <input name="email" type="email" class="register-input" placeholder="Email" required value="{{ request.form.get('email', '') }}"/>
            
            <input name="password" type="password" class="register-input" placeholder="Password" required pattern="(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}" title="Password must be at least 8 characters, contain an uppercase and lowercase letter, and a number."/>
            
            <input name="phone" type="tel" class="register-input" placeholder="Phone Number" required value="{{ request.form.get('phone', '') }}"/>
        
            <button type="submit" class="btn-register">Register</button>
        </form>
    </div>
    </section>
  </main>

<!-- FOOTER WITH PAGE LINKS -->
{% include "partials/footer.html" %}

<!-- LOGIN MODAL (Pop-up Overlay) -->
{% include "partials/login_modal.html" %}

<!-- Login Modal Script -->
<script src="{{ url_for('static', filename='js/loginModal.js') }}"></script>

{% if show_login %}
<script>
  window.onload = () => {
    const modal = document.getElementById('loginModal');
    if (modal) modal.classList.add('show');
  };
</script>
{% endif %}

</body>
</html>